if (project.file('../../publish.gradle').exists()) {
    apply from: '../../publish.gradle'
}
project.archivesBaseName = 'eva-web-base'
project.description='eva web support with all base modules'

configurations.all {
    resolutionStrategy.dependencySubstitution.all { dependency ->
        if (dependency.requested instanceof ModuleComponentSelector && dependency.requested.module == 'spring-boot-starter-logging') {
            dependency.useTarget("org.springframework.boot:spring-boot-starter-log4j2:$dependency.requested.version", 'Use Log4j2 instead of Logback')
        }
    }
}

dependencies {

    api("${lib.web}"){
        exclude module: 'spring-boot-starter-tomcat'
    }

    api  project(":eva-core:eva-core-data-mybatis"),
         project(":eva-core:eva-core-common"),
         project(":eva-core:eva-core-cache"),
         project(":eva-core:eva-core-log")

    api "${lib.undertow}"
}
