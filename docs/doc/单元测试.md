1.添加依赖
```groovy
   testCompile "org.springframework.boot:spring-boot-starter-test:${bootVersion}"
```
2.类级别注解
```java
@RunWith(SpringRunner.class)
@AutoConfigureMockMvc
@SpringBootTest
```
3.对象注入
```java
 @Autowired
    private MockMvc mockMvc;
    @Autowired
    private WebApplicationContext wac;

    @Before
    public void setupMockMvc(){
        //初始化MockMvc对象
        mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();
    }
```

4.示例
```java
 /**
     * 采购入库单新增
     */
    @Test
    public void testSave(){
        try {
            //数据
            String json = "{incode:'tom','indate':'2018-02-11',remark:'this is remarks',line: [{" +
                    "barcode:'goods_01',name:'商品01',price:18,num:2,subtotal:36}," +
                    "{barcode:'goods_02',name:'商品02',price:18,num:2,subtotal:36}]}";
            // 发送post请求
            mockMvc.perform(post("/instock/save")
                    // 发送内容
                    .content(json))
                    // 期望结果
                    .andExpect(MockMvcResultMatchers.status().isOk())
                    // 成功后执行打印
                    .andDo(MockMvcResultHandlers.print());
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```
