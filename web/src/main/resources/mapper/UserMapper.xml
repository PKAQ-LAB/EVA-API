<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.pkaq.web.account.mapper.UserMapper">
  <resultMap id="BaseResultMap" type="org.pkaq.web.account.entity.UserEntity">
    <id column="ID" jdbcType="VARCHAR" property="id" />
    <result column="code" jdbcType="VARCHAR" property="code" />
    <result column="account" jdbcType="VARCHAR" property="account" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="salt" jdbcType="VARCHAR" property="salt" />
    <result column="avatar" jdbcType="VARCHAR" property="avatar" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="nick_name" jdbcType="VARCHAR" property="nickName" />
    <result column="register_ip" jdbcType="VARCHAR" property="registerIp" />
    <result column="gmt_register" jdbcType="TIMESTAMP" property="gmtRegister" />
    <result column="last_ip" jdbcType="VARCHAR" property="lastIp" />
    <result column="last_login" jdbcType="TIMESTAMP" property="lastLogin" />
    <result column="locked" jdbcType="TINYINT" property="locked" />
    <result column="gmt_create" jdbcType="TIMESTAMP" property="gmtCreate" />
    <result column="gmt_modify" jdbcType="TIMESTAMP" property="gmtModify" />
    <result column="create_by" jdbcType="VARCHAR" property="createBy" />
    <result column="modify_by" jdbcType="VARCHAR" property="modifyBy" />
  </resultMap>
  <!-- 按主键删除 -->
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from sys_user_info
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  <!-- 新增 -->
  <insert id="insert" keyProperty="id" parameterType="org.pkaq.web.account.entity.UserEntity" useGeneratedKeys="true">
    insert into sys_user_info (code, account, password, 
      salt, avatar, name, 
      nick_name, register_ip, gmt_register, 
      last_ip, last_login, locked, 
      gmt_create, gmt_modify, create_by, 
      modify_by)
    values (#{code,jdbcType=VARCHAR}, #{account,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, 
      #{salt,jdbcType=VARCHAR}, #{avatar,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, 
      #{nickName,jdbcType=VARCHAR}, #{registerIp,jdbcType=VARCHAR}, #{gmtRegister,jdbcType=TIMESTAMP}, 
      #{lastIp,jdbcType=VARCHAR}, #{lastLogin,jdbcType=TIMESTAMP}, #{locked,jdbcType=TINYINT}, 
      #{gmtCreate,jdbcType=TIMESTAMP}, #{gmtModify,jdbcType=TIMESTAMP}, #{createBy,jdbcType=VARCHAR}, 
      #{modifyBy,jdbcType=VARCHAR})
  </insert>
  <!-- 按主键更新 -->
  <update id="updateByPrimaryKey" parameterType="org.pkaq.web.account.entity.UserEntity">
    update sys_user_info
    set code = #{code,jdbcType=VARCHAR},
      account = #{account,jdbcType=VARCHAR},
      password = #{password,jdbcType=VARCHAR},
      salt = #{salt,jdbcType=VARCHAR},
      avatar = #{avatar,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      nick_name = #{nickName,jdbcType=VARCHAR},
      register_ip = #{registerIp,jdbcType=VARCHAR},
      gmt_register = #{gmtRegister,jdbcType=TIMESTAMP},
      last_ip = #{lastIp,jdbcType=VARCHAR},
      last_login = #{lastLogin,jdbcType=TIMESTAMP},
      locked = #{locked,jdbcType=TINYINT},
      gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},
      gmt_modify = #{gmtModify,jdbcType=TIMESTAMP},
      create_by = #{createBy,jdbcType=VARCHAR},
      modify_by = #{modifyBy,jdbcType=VARCHAR}
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <!-- 按主键查询 -->
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    select ID, code, account, password, salt, avatar, name, nick_name, register_ip, gmt_register, 
    last_ip, last_login, locked, gmt_create, gmt_modify, create_by, modify_by
    from sys_user_info
    where ID = #{id,jdbcType=VARCHAR}
  </select>
  <!-- 查询所有 -->
  <select id="selectAll" resultMap="BaseResultMap">
    select ID, code, account, password, salt, avatar, name, nick_name, register_ip, gmt_register, 
    last_ip, last_login, locked, gmt_create, gmt_modify, create_by, modify_by
    from sys_user_info
  </select>
</mapper>