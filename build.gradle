plugins {
   id "name.remal.check-dependency-updates" version "1.0.171"
   id "com.jfrog.bintray" version "1.8.4"
}

ext {
    springBootVersion = '2.2.4.RELEASE'
    mysql = "8.0.19"
    fastjson = "1.2.62"
    mybatis_plus_starter = "3.3.1"
    lombok = "1.18.12"
    swagger = "2.9.2"
	swagger_ui = "2.0.1"
    hutool = "5.1.2"
    jaxb_api = "2.3.1"
    jjwt = "0.9.1"
    auth0 = "3.8.3"
    jasypt = "3.0.2"
    p6spy = "3.8.7"
    flyway = "6.2.2"
    boot_admin = "2.2.2"
    truelicense = "1.33"
}

allprojects {
    apply plugin: "name.remal.check-dependency-updates"
    group = 'io.nerv'
    version = '2.2.0.beta'
}

subprojects {
    apply plugin: 'java-library'
	apply plugin: 'maven-publish'
	apply plugin: 'com.jfrog.bintray'
    
	sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
    
    tasks.withType(JavaCompile) {
        options.encoding = "UTF-8"
    }
	
	tasks.withType(Javadoc) {
        options.encoding = "UTF-8"
		options.addStringOption('Xdoclint:none', '-quiet')
    }

    repositories {
        mavenLocal()
		maven { url"https://maven.springframework.org"}
        maven { url"https://repo.spring.io/libs-release" }
		maven { url"https://mirrors.huaweicloud.com" }
        jcenter()
        mavenCentral()
    }

    dependencies {
       implementation "org.projectlombok:lombok:${lombok}"
	   annotationProcessor "org.projectlombok:lombok:${lombok}"

       testImplementation "org.springframework.boot:spring-boot-starter-test:${springBootVersion}"
       testImplementation "org.springframework.security:spring-security-test:5.2.2.RELEASE"
     }
}

