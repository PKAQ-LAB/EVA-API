<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.module//DTD Mapper 3.0//EN" "http://mybatis.module/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.nerv.web.jxc.purchasing.orders.mapper.PurchasingOrderMapper">
    <resultMap id="BaseResultMap" type="jxc_purchasing" extends="common.resultMap">
        <collection property="line"
                    column="main_Id"
                    ofType="jxc_purchasing_line"
                    javaType="java.util.ArrayList">
            <id property="lineId" column="line_id" jdbcType="VARCHAR"/>
            <result property="mainId" column="mainId" jdbcType="VARCHAR"/>
            <result property="name" column="NAME" jdbcType="VARCHAR"/>
        </collection>
    </resultMap>
    <!--  查询一采购单及其明细  -->
    <select id="listPurchasing" resultMap="BaseResultMap">
        SELECT * From
            jxc_purchasing_order m
        LEFT JOIN
            jxc_porder_line c
        ON
            m.id = c.main_id
    </select>
</mapper>